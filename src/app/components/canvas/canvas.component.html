<div class="canvas-wrapper">
  <canvas #htmlCanvas></canvas>
  
  <!-- Grid Controls -->
  <div class="grid-controls">
    <button class="grid-toggle-btn" 
            [class.active]="gridEnabled"
            (click)="gridService.toggleGrid()" 
            title="Toggle Grid (G)">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="3" y="3" width="18" height="18" />
        <line x1="9" y1="3" x2="9" y2="21" />
        <line x1="15" y1="3" x2="15" y2="21" />
        <line x1="3" y1="9" x2="21" y2="9" />
        <line x1="3" y1="15" x2="21" y2="15" />
      </svg>
    </button>
    
    <div class="grid-size-info" *ngIf="gridEnabled">
      <span class="grid-size-label">Grid:</span>
      <span class="grid-size-value">{{ gridSize }}px</span>
      <span class="grid-size-hint">(Alt+Scroll)</span>
    </div>
  </div>
  
  <!-- Zoom Controls -->
  <div class="zoom-controls">
    <button class="zoom-btn" (click)="zoomPanService.zoomIn()" title="Zoom In (Scroll Up)">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <circle cx="11" cy="11" r="8"/>
        <path d="m21 21-4.35-4.35"/>
        <line x1="11" y1="8" x2="11" y2="14"/>
        <line x1="8" y1="11" x2="14" y2="11"/>
      </svg>
    </button>
    
    <span class="zoom-level">{{ zoomLevel }}%</span>
    
    <button class="zoom-btn" (click)="zoomPanService.zoomOut()" title="Zoom Out (Scroll Down)">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <circle cx="11" cy="11" r="8"/>
        <path d="m21 21-4.35-4.35"/>
        <line x1="8" y1="11" x2="14" y2="11"/>
      </svg>
    </button>
    
    <button class="zoom-btn" (click)="zoomPanService.resetZoom()" title="Reset Zoom (100%)">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M1 1h6v6"/>
        <path d="M3.51 9a9 9 0 1 0 2.13-5.36L1 1"/>
      </svg>
    </button>
    
    <button class="zoom-btn" (click)="zoomPanService.zoomToFit()" title="Fit to Screen">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"/>
      </svg>
    </button>
  </div>
  
  <!-- Pan Indicator -->
  <div class="pan-indicator" *ngIf="isPanning">
    <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
      <path d="M9 3L5 7l1.41 1.41L9 5.83V13h2V3H9zm5 0v10h2V5.83l2.59 2.58L20 7l-4-4-2 2zm-5 18l4-4-1.41-1.41L9 18.17V11H7v10h2zm5 0V11h-2v7.17l-2.59-2.58L8 17l4 4 2-2z"/>
    </svg>
    <span>Pan Mode (Space+Drag or Middle Mouse)</span>
  </div>
</div>
